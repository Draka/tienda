mixin img(name, image, size = ['196x196_jpg', '392x392_jpg'], cssClass)
  .relative.rd-0-5.oh
    if (image)
      img.w-100.lazy(data-src=image[size[0]] data-retina=image[size[1]] alt=name class=cssClass?cssClass:'')
    else
      img.w-100.lazy(data-src=`${appCnf.url.cdn}images/imagen_no_disponible.svg` alt=name class=cssClass?cssClass:'')
    .absolute.top.black.op-0-05.w-100.h-100

.row
  each item,i in items
    .col-xs-6.col-md-4.col-lg-3.pb-1
      .h-100.white-sm.white-md.white-lg.white-xl.p-1-sm.p-1-md.p-1-lg.p-1-xl.sh-hover-sm.sh-hover-md.sh-hover-lg.sh-hover-xl.rd-0-2.oh
        .h-100.relative.mb-0-5
          a.mb-1(href=`/tiendas/${_.get(item, 'storeID.slug')}/productos/${item.sku}`)
            +img(item.name, _.first(item.imagesSizes), ['196x196_jpg', '392x392_jpg'])
          .w-100.mt-1-sm.mt-1-md.mt-1-lg.mt-1-xl
            a.mb-1(href=`/tiendas/${_.get(item, 'storeID.slug')}/productos/${item.sku}` title=item.name)
              .small.oh.ellipsis.lines-2.mb-0-5
                | #{item.name}

              if _.get(item, 'offer.percentage') && ( (_.get(item, 'offer.available.start') && moment().isAfter(moment(item.offer.available.start)) ) || !_.get(item, 'offer.available.start') )  && ( (_.get(item, 'offer.available.end') && moment().isBefore(moment(item.offer.available.end)) ) || !_.get(item, 'offer.available.end') )
                .b.t.t-gray-2 #{formatMoney(item.price || 0)}
                .b #{formatMoney(item.offer.price || 0)}
              else
                .b #{formatMoney(item.price || 0)}

